"use strict";const drink=document.querySelector(".js-drink"),btn=document.querySelector(".js-btn"),reset=document.querySelector(".js-reset"),listMenu=document.querySelector(".js-list"),favorite=document.querySelector(".js-favorite");let url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita",listArrayCoctel=[],listArrayFavorite=[];const coctelListFavorites=JSON.parse(localStorage.getItem("drinks"));function renderCoctelList(e){listMenu.innerHTML="";for(const t of e)listMenu.innerHTML+=renderCoctel(t);addEventToCoctel(),removeAddSelected()}function renderFavoriteList(e){favorite.innerHTML="";for(const t of e){let e="";e=t.strDrinkThumb?t.strDrinkThumb:"https://via.placeholder.com/400x600/ffffff/001799.png?text=C贸ctel "+t.strDrink,favorite.innerHTML+=`<li class= "li-coctel"> \n<section>\n<article class="brewCoctel js-fav-brewCoctel" id="${t.idDrink}">\n<h3 class="coctel_title">${t.strDrink}<i class="fa-regular js-fa-regular fa-lemon" id=${t.idDrink}></i></h3>\n<img class="imgcoctel" src ="${e}" alt="foto de c贸ctel">\n</article>\n</section>\n</li>`}removeToFavorite(),localStorage.setItem("drinks",JSON.stringify(e))}function renderCoctel(e){let t="";return t=e.strDrinkThumb?e.strDrinkThumb:"https://via.placeholder.com/400x600/ffffff/001799.png?text=C贸ctel "+e.strDrink,`<li class= "li-coctel"> \n<section>\n<article class="brewCoctel js-brewCoctel" id="${e.idDrink}">\n<h3 class="coctel_title">${e.strDrink}</h3>\n<img class="imgcoctel" src ="${t}" alt="foto de c贸ctel">\n</article>\n</section>\n</li>`}function handleClickSearch(e){e.preventDefault(),url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+drink.value,fetch(url).then(e=>e.json()).then(e=>{console.log(e),listArrayCoctel=e.drinks,renderCoctelList(listArrayCoctel)})}function handleClickli(e){console.log(e.currentTarget.id);const t=e.currentTarget.id,r=listArrayCoctel.find(e=>e.idDrink===t),i=listArrayFavorite.findIndex(e=>e.idDrink===t);console.log(i),-1===i?(e.currentTarget.classList.add("selected"),listArrayFavorite.push(r)):(e.currentTarget.classList.remove("selected"),listArrayFavorite.splice(i,1)),renderFavoriteList(listArrayFavorite)}function handleClickLemon(e){e.preventDefault();const t=e.currentTarget.id,r=listArrayFavorite.findIndex(e=>e.idDrink===t);listArrayFavorite.splice(r,1),renderFavoriteList(listArrayFavorite),removeAddSelected()}function handleClickReset(e){e.preventDefault(),drink.value="",favorite.innerHTML="",localStorage.removeItem("drinks"),location.reload()}function addEventToCoctel(){const e=document.querySelectorAll(".js-brewCoctel");for(const t of e)t.addEventListener("click",handleClickli)}function removeToFavorite(){const e=document.querySelectorAll(".js-fa-regular");for(const t of e)t.addEventListener("click",handleClickLemon)}function removeAddSelected(){const e=document.querySelectorAll(".js-brewCoctel");for(let t of e){listArrayFavorite.find(e=>e.idDrink===t.id)?t.classList.add("selected"):t.classList.remove("selected")}}coctelListFavorites&&(listArrayFavorite=coctelListFavorites,renderFavoriteList(listArrayFavorite)),fetch(url).then(e=>e.json()).then(e=>{console.log(e),listArrayCoctel=e.drinks,renderCoctelList(listArrayCoctel)}),btn.addEventListener("click",handleClickSearch),reset.addEventListener("click",handleClickReset);